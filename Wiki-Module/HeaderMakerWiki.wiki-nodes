#!/bin/bash
# ##############################################################
# HeaderMakerWiki - Modul zur Kopfzeilenausgabe von .wiki-notes
# Modulpfad   : Pylovara-FileManager-System/Wiki-Module/
# Datei       : HeaderMakerWiki.wiki-nodes
# Typ         : .wiki-nodes
# Zweck       : Gibt strukturierte Kopfzeilen aus .wiki-notes-Dateien aus
# Status      : Aktiv
# Parser-Modus: show_headerwiki
# Schlagworte : Header, Wiki, Struktur, Übersicht, Kopfzeile
# ##############################################################

DATEI="$1"

if [[ -z "$DATEI" ]]; then
    echo "❗ Bitte gib eine .wiki-notes Datei an."
    echo "📌 Beispiel: ./HeaderMakerWiki.wiki-nodes P-Module/Modulname.wiki-notes"
    exit 1
fi

if [[ ! -f "$DATEI" ]]; then
    echo "❌ Datei nicht gefunden: $DATEI"
    exit 2
fi

HEADERENDE=$(grep -n "== Beschreibung ==" "$DATEI" | cut -d: -f1)
HEADERENDE=$((HEADERENDE - 1))

echo "📑 Header aus: $DATEI"
echo "────────────────────────────────────────────"
head -n "$HEADERENDE" "$DATEI"
